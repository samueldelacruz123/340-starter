<main class="register-page">
  <% if (title) { %>
    <h1><%= title %></h1>
  <% } else { 
    res.redirect('/'); 
  } %>

  <!-- Flash message (if available) -->
  <div class="flash-message"><%- messages() %></div>

  <!-- Registration Form -->
  <form action="/account/register" method="post" class="register-form">
    <label for="account_firstname">First name:</label>
    <input type="text" id="account_firstname" name="account_firstname" required value="<%= locals.account_firstname || '' %>">

    <label for="account_lastname">Last name:</label>
    <input type="text" id="account_lastname" name="account_lastname" required value="<%= locals.account_lastname || '' %>">

    <label for="account_email">Email address:</label>
    <input type="email" id="account_email" name="account_email" required value="<%= locals.account_email || '' %>">

    <label for="account_password">Password:</label>
    <input type="password" id="account_password" name="account_password" required>

    <div class="password-toggle">
    <input type="checkbox" id="togglePassword">
    <label for="togglePassword">Show Password</label>
    </div>

    <script>
    const passwordField = document.getElementById("account_password");
    const togglePassword = document.getElementById("togglePassword");

    togglePassword.addEventListener("change", function () {
        if (this.checked) {
        passwordField.type = "text"; // show password
        } else {
        passwordField.type = "password"; // hide password
        }
    });
    </script>

    <button type="submit">Register</button>
  </form>
</main>