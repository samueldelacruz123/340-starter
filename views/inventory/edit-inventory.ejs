<main class="form-container">
  <h1><%= title %></h1>

  <!-- Flash message (if available) -->
  <div class="flash-message">
    <%- messages() %>

    <% if (errors) { %>
      <ul class="notice">
        <% errors.forEach(error => { %>
          <li><%= error.msg %></li>
        <% }) %>
      </ul>
    <% } %>
  </div>

  <form id="editForm" action="/inv/edit-inventory" method="post" class="data-form">
    <label for="classification_id">Classification</label>
    <%- classificationSelect %>

    <label for="inv_make">Make</label>
    <input 
      type="text" 
      id="inv_make" 
      name="inv_make" 
      value="<%- inv_make %>"
      required 
      pattern="[A-Z][A-Za-z0-9 ]{2,}" 
      title="Make must start with a capital letter and be at least 3 characters long."
    >

    <label for="inv_model">Model</label>
    <input 
      type="text" 
      id="inv_model" 
      name="inv_model" 
      value="<%- inv_model %>"
      required 
      pattern="[A-Z][A-Za-z0-9 ]{2,}" 
      title="Model must start with a capital letter and be at least 3 characters long."
    >

    <label for="inv_year">Year</label>
    <input 
      type="number" 
      id="inv_year" 
      name="inv_year" 
      value="<%- inv_year %>"
      required 
      min="1900" 
      max="<%= new Date().getFullYear() + 1 %>" 
      title="Please enter a valid year between 1900 and <%= new Date().getFullYear() + 1 %>."
    >

    <label for="inv_description">Description</label>
    <textarea 
    id="inv_description" 
    name="inv_description" 
    required 
    minlength="1" 
    title="Please provide a description."
    ><%- inv_description %></textarea>

    <label for="inv_image">Image Path</label>
    <input 
      type="text" 
      id="inv_image" 
      name="inv_image" 
      value="<%= inv_image %>" 
      required 
      title="Please provide an image path."
    >

    <label for="inv_thumbnail">Thumbnail Path</label>
    <input 
      type="text" 
      id="inv_thumbnail" 
      name="inv_thumbnail" 
      value="<%= inv_thumbnail %>" 
      required 
      title="Please provide a thumbnail path."
    >

    <label for="inv_price">Price</label>
    <input 
      type="number" 
      id="inv_price" 
      name="inv_price" 
      value="<%- inv_price %>"
      required 
      min="0" 
      step="0.01" 
      title="Price must be a positive number."
    >

    <label for="inv_miles">Miles</label>
    <input 
      type="number" 
      id="inv_miles" 
      name="inv_miles"
      value="<%- inv_miles %>" 
      required 
      min="0" 
      title="Miles must be a positive number."
    >

    <label for="inv_color">Color</label>
    <input 
      type="text" 
      id="inv_color" 
      name="inv_color" 
      value="<%- inv_color %>"
      required 
      pattern="[A-Za-z ]+" 
      title="Please provide a color (letters only)."
    >

    <button type="submit" disabled>Update Vehicle</button>
    <input type="hidden" name="inv_id"
    <% if(locals.inv_id) { %> value="<%= locals.inv_id %>"
    <% } %>>
  </form>

  <script src="../../js/inv-edit.js"></script>
</main>